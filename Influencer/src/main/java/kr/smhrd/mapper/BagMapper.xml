<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.smhrd.mapper.BagMapper">
    
    <select id="bagSearch" resultType="kr.smhrd.model.BagVO">
        select * from bag where bag_brand=#{bag_brand}
    </select>

    <select id="new_bag_detail" resultType="kr.smhrd.model.New_BagVO">
        select new_mall, new_price from new_bag order by new_price limit 5;
    </select>
    
    
    <select id="used_bag_detail" resultType="kr.smhrd.model.Used_BagVO">
        select used_mall, used_price from used_bag order by used_price limit 5;
    </select>
    
 	<!-- <select id="selectimage" resultType="map">
 	    select new_img from new_bag where bag_no = #{bag_no};
 	    
 	</select> -->
 	
 	<select id="selectimage" resultType="kr.smhrd.model.New_BagVO">
 	    select * from new_bag where bag_no = #{bag_no}; 	    
 	</select>
 	
 	<insert id="boardinsert" parameterType="kr.smhrd.model.BoardVO">
		insert into board(board_content,board_head,board_title,nick)
		values(#{board_content},#{board_head},#{board_title},#{nick})	    
 	</insert>
 	
 	<select id="boardList" resultType="kr.smhrd.model.BoardVO">
		select * from board; 	    
 	</select>
 	
 	<select id="boardView" resultType="kr.smhrd.model.BoardVO">
 	    select * from board where board_no=#{board_no};
 	</select>
 	
 	<select id="goboardUpdate" resultType="kr.smhrd.model.BoardVO">
 	    select * from board where board_no=#{board_no};
 	</select>
 	
 	<update id="boardUpdate" parameterType="kr.smhrd.model.BoardVO">
		update board set board_head=#{board_head}, board_date=now(),
		board_content=#{board_content} where board_no=#{board_no}; 	    
 	</update>
 	
 	<delete id="boardDelete" parameterType="int">
 	    delete from board where board_no=#{board_no};
 	</delete>
 	
 	<!-- 게시물 총 개수 -->
    <select id="getTotal" resultType="int">
        select count(*) from board
    </select>
	
 	<!-- 게시물 목록(페이징) -->
    <select id="getListPaging" parameterType="kr.smhrd.model.Criteria" resultType="kr.smhrd.model.BoardVO">
        select * from (
                select board_no, board_title, board_head, nick, board_date
                from board order by board_no desc) as T1 
        <!-- limit ((${pageNum}-1)*${amount}), ${amount} -->
        limit #{skip}, #{amount}
    </select>
</mapper>